{% extends "base.html" %}

{% block title %}Projects{% endblock %}

{% block content %}

{% load static %}

<style>
  .tarjeta-lista {
    width: 380px;
    height: 268px;
    background: var(--unnamed-color-ffffff) 0% 0% no-repeat padding-box;
    background: #FFFFFF 0% 0% no-repeat padding-box;
    box-shadow: 0px 5px 10px #00000017;
    border-radius: 21px;
    opacity: 1;
  }

  .boton-fav {
    border-radius: 60px;
    position: absolute;
    top: 8px;
    right: 8px;
    height: 40px;
    width: 40px;
  }
  .boton-fav:hover{
    background-image: ;
  }

.tarjetas {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-gap: 1rem;
  
}
.tarjeta {
  position: relative;
  width: 380px;
  height: 274px;
  background: #012623;
  /* background-image: url({% static 'img/image/fondotarjeta.jpg' %}); stilo imagenfondo */
  border-radius: 20px;
  overflow: hidden;
  text-align: center;
  box-shadow: rgba(136, 165, 191, 0.48) 6px 2px 16px 0px, rgba(255, 255, 255, 0.8) -6px -2px 16px 0px;
}

h5 {
  font: var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-16)/20px Lato;
  letter-spacing: var(--unnamed-character-spacing-0);
  text-align: left;
  letter-spacing: 0px;
  color: #FFFFFF;
}
.titulo1{
  color: #FFFFFF;
  font-size: 22px;
  display: flex;
  opacity: 1;
  margin-top: 10px;
}


 
@media (min-width: 600px) {
   .tarjetas { grid-template-columns: repeat(2, 1fr); }
 }

@media (min-width: 900px){
   .tarjetas {grid-template-columns: repeat(3, 0fr); }
 }
 span{
   color: #FFFFFF;
 }
 .btn-invert{
  font-size: 14px;
  text-align: center;
  margin-top: 12px;
  }

a:hover{
   color: #FFFFFF;
 }
 .editables {
  background-color: #008CBA !important;
  margin: 1em;
  border-radius: 25px;
  color: #fff;
  font-size: 10px;
}
.cover img{
  margin: 8px;
  width: 168px;
  height: 184px;
  border-radius: 10px;
  box-shadow: 0px 5px 10px transparent;
}
.cover{
  object-fit: cover;
}
h1{
  font-size: 26px;
}
h3{
  
  font-size: 14px;
  display: flex;
  font: var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-16)/20px Lato;
  letter-spacing: var(--unnamed-character-spacing-0);

  color: var(--unnamed-color-f9e09e);
  text-align: left;
  letter-spacing: 0px;
  color: #F9E09E;
  opacity: 1;
}
h4{
  font: var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-16)/20px Lato;
  letter-spacing: var(--unnamed-character-spacing-0);
  font: normal normal normal 16px/24px Lato;
  color: var(--white);
  text-align: left;
  letter-spacing: 0px;
  color: #FFFFFF;
  opacity: 1;
}
strong{
  font: var(--unnamed-font-style-normal) normal var(--unnamed-font-weight-normal) var(--unnamed-font-size-16)/20px Lato;
  letter-spacing: var(--unnamed-character-spacing-0);
  color: var(--white);
  letter-spacing: 0px;
  color: #FFFFFF;
}
.valores span{
  letter-spacing: var(--unnamed-character-spacing-0);
  letter-spacing: 0px;
  opacity: 1;
  color: #EE6635;
}

.textbajo span{

  color: #EE6635;
  

}
.valores{
 text-align: left;
}

.ovalo{
  border-radius: 25px;
  color: #013F30;
  background-color: #F9E09E;
  font-size: small;
  width: 116px;
  position: absolute;
    top: 180px;
    left: 32px;
    grid-template-rows: 40px 4em 40px;
}
.alt{
  height: 218px;
}
.textbajo{
  text-align: left;
  margin-left: 20px;
}


</style>

   <h1>Proyectos</h1>
  <div class="row">
     <div class="col-6">
      {% load permission_tags %}
      {% if user|can:'manage_a_project' %}
        <a name="" id="" class="btn editables" href="{% url 'crear' %}" role="button"> Crear un Proyecto</a>
      {% endif %}
      <br>
      
    </div>
    
  </div>
  
  
  {% if project_list %}
  <div class="tarjetas">
    {% for project in project_list %}
      <div class="tarjeta card text-left">
        
     <div class="row alt">
      <div class="col-6 mb-4">
          <div class="cover">
            <img src="{{project.image.url}}">
            <div class="ovalo">Edad 9-10</div>   
          </div>
        </div>
      <div class="col-6">
        <div class="contentBx">
          <div class="row">
            <div class="col-8">
              <h2 class="titulo1">{{ project.name }}</h2>
              <h3>{{project.tree_type}}</h3>
            </div>
            <div class="col-6">
              <div id="mainToolbar">
                <a class="button boton-fav" id="shareProject" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false" >
                    <i class="material-icons">share</i>
                </a>
                <ul class="dropdown-menu" aria-labelledby="shareProject">
                  {% with request.build_absolute_uri|add:project.name as varname %}
                    <li><a class="dropdown-item shareButton copy-btn" data-project={{ varname }}>Copy to Clipboard</a></li>
                                  
                    {% load social_share %}
                    <li>{% post_to_whatsapp varname "Share via WhatsApp" "dropdown-item" %}</li>
                    <li>{% post_to_twitter "Invest in this project: {{project.name}}. Check it out!" varname "Post to Twitter" "dropdown-item" %}</li>
                    <li>{% post_to_facebook varname "Post to Facebook" "dropdown-item" %}</li>
                  {% endwith %}
                </ul>
              </div>
            </div>
          </div>
          
          {% load permission_tags %}
          {% if user|can:'manage_a_project' %}
            <a class="btn editables" href="{% url 'editar' project.pk  %}"role="button">Editar</a>
            <a class="btn editables" href="{% url 'eliminar' project.pk %}" role="button">Eliminar</a>
          {% endif %}
              <div class="valores">
              <div><strong>Rentabilidad: </strong><span>12% EA</span></div>
              <div><strong>Árboles restantes: </strong><span>{{ project.trees_left}}</span></div>
              <div><strong>Precio: </strong><span>USD {{ project.get_price}}</span> </div> 
              </div>         
      </div>
     </div>
   </div>
   <div class="row">
    <div class="col-6 ">
      <div class="textbajo"><strong>Usuario Propietario: </strong><span>Treeconomy Inc. </span> </div>
      
    </div>
    <div class="col-6">
      <a class="button-plant btn-invert" href="{{ project.get_absolute_url }}">Invertir Aquí</a>
    </div>
 </div>
</div>
    {% endfor %}
  </div>

  {% else %}
    <p>There are not available projects.</p>
  {% endif %}      

{% endblock %}