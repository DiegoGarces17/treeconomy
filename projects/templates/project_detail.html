git
{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load add_attr %}
{% block title %}Project{% endblock %}

{% block content %}
{% load permission_tags %}

<div class="site-section">
  <div class="container">
    {% if user|can:'manage_a_project' %}
      <a class="btn btn-success" href="{% url 'editar' project.pk %}" role="button">Edit</a>
      <a class="btn btn-danger" href="{% url 'eliminar' project.pk %}" role="button">Delete</a>
    {% endif %}
    <br>
    <div class="row my-5">
      <div class="col-md-6">
        {% if project.image %}
          <a><img class="card-img-top" src="{{project.image.url}}"></a>
        {% endif %}
        
       
        
      </div>
      <div class="col-md-6 mb-4">
        <h2>{{ project.name }}</h2>
        <p class="card-text"><strong>Coordinates:</strong> {{ project.coordinates }}</p> 
        <p class="card-text"><strong>Number of trees:</strong> {{ project.n_trees }}</p>
        <p class="card-text"><strong>Plantation date:</strong> {{ project.plantation_date }}</p> 
        <p class="card-text"><strong>Tree type:</strong> {{ project.tree_type }}</p>  
        <p class="card-text"><strong>Number of hectares:</strong> {{ project.n_hectares }}</p>  
        <p class="card-text"><strong>Trees left:</strong> {{ project.trees_left }}</p>  
        <p class="card-text"><strong>Link to Google Earth:</strong> <a href=""> {{ project.project_link }} </a></p> 
        <p class="card-text"><strong>Trees price:</strong> ${{ project.get_price }}</p> 
        <form method="POST">
          {% csrf_token %}
     
         
        <div class="input-group mb-3" style="max-width: 120px;">
          <div class="input-group-pretend">
               <a></a>
              <a  id="disminuir_arboles" class="btn btn-outline-primary">
                  &minus;
              </a>
          </div>
        
          {% if user_form.last_name.errors %}
              {{ form.quantity|add_attr:'is-invalid'}}
          {% else %}
              <input type="text" name="quantity" value="1" min="0" class="form-control text-center" required="" id="id_quantity">
          {% endif %}
          <div class="invalid-feedback">
              {{ form.quantity.errors }}
          </div>
          <div class="input-group-pretend">
              <a id="aumentar_arboles" class="btn btn-outline-primary">
                  &plus;
              </a>
          </div>
        </div>
        <button type="submit" class="btn btn-sm btn-primary buy-now">Add to cart</button>

        </form>
       
      </div>
    </div>
  </div>
</div>

<script>
  var btn_disminuir = document.getElementById("disminuir_arboles")
  var btn_aumentar = document.getElementById("aumentar_arboles")
  
  btn_aumentar.addEventListener("click", function(){
    campo_cantidad = document.getElementById("id_quantity")
    parseInt(campo_cantidad)
    campo_cantidad.value ++
    
    console.log(parseInt(campo_cantidad.value))
    
  })

  btn_disminuir.addEventListener("click", function(){
    campo_cantidad = document.getElementById("id_quantity")
    
    parseInt(campo_cantidad)
    
    if(campo_cantidad.value>1){
      campo_cantidad.value --
    }
    
    console.log(parseInt(campo_cantidad.value))
  })

 
</script>


{% endblock %}